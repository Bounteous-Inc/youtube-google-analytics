(function(h,f,g){function l(d){for(var e=0;e<d.length;e++){var b;b=d[e].src||"";b=-1<b.indexOf("youtube.com/embed/")||-1<b.indexOf("youtube.com/v/")?!0:!1;if(b){b=d[e];var a=h.createElement("a");a.href=b.src;a.hostname="www.youtube.com";a.protocol=h.location.protocol;var g="/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname,c=f.location.protocol+"%2F%2F"+f.location.hostname;-1===a.search.indexOf("enablejsapi")&&(a.search=0<a.search.length?a.search+"&enablejsapi=1":a.search="enablejsapi=1&origin="+
c);-1===a.search.indexOf("origin")&&(a.search=a.search+"&origin="+c);"application/x-shockwave-flash"===b.type&&(c=h.createElement("iframe"),c.height=b.height,c.width=b.width,g="/embed/"+b.videoId,b.parentNode.parentNode.replaceChild(c,b.parentNode),b=c);a.pathname=g;b.src=a.href+a.hash;n(b)}}}function n(d){d.pauseFlag=!1;new YT.Player(d,{events:{onStateChange:function(e){var b=e.data;e=e.target.getVideoUrl().match(/[?&]v=([^&#]*)/)[1];var a=d.currentState;-1===b&&a?d.lockVideoId=!0:3===b&&d.lockVideoId||
(d.lockVideoId||(d.videoId=e),0===b&&(d.lockVideoId=!1),e=d.videoId,a={"-1":"Unstarted",0:"Watch to End",1:"Play",2:"Pause",3:"Buffering",5:"Cueing"}[b],"undefined"===typeof f.dataLayer||k?c[a]&&("function"===typeof f.ga&&"function"===typeof f.ga.getAll&&2!==k?f.ga("send","event","Videos",a,e,0,!1):"undefined"!==typeof f._gaq&&1!==k&&f._gaq.push(["_trackEvent","Videos",a,e])):f.dataLayer.push({event:"youTubeTrack",attributes:{videoId:e,videoAction:a}}),d.currentState=b)}}})}if("undefined"!==typeof f.onYouTubeIframeAPIReady)throw Error("There is already a function defined at window.onYouTubeIframeAPIReady; aborting LunaMetrics Google Analytics YouTube Tracking",
"lunametrics-youtube.js");g="OPT_CONFIG_OBJ"!==g?g:{};var k=g.forceSyntax||0,c=g.events||{Unstarted:!1,"Watch to End":!0,Play:!0,Pause:!0,Buffering:!1,Cueing:!1};"undefined"===typeof c.Play&&(c.Play=!0);"undefined"===typeof c.Pause&&(c.Pause=!0);"undefined"===typeof c["Watch to End"]&&(c["Watch to End"]=!0);f.onYouTubeIframeAPIReady=function(){var d=h.getElementsByTagName("iframe"),c=h.getElementsByTagName("embed");l(d);l(c)};g=h.createElement("script");g.src="//www.youtube.com/iframe_api";var m=
h.getElementsByTagName("script")[0];m.parentNode.insertBefore(g,m)})
(document,window,"OPT_CONFIG_OBJ");
/*
 * "OPT_CONFIG_OBJ" can be replaced with an object
 * to modify default behavior, e.g.:
 *
 * {
 *   'events': {
 *     'Unstarted': true,
 *     'Watch to End': false;
 *   },
 *   forceSyntax: 1
 * }
 *
 * @property forceSyntax int 0, 1, or 2
 * Forces script to use Classic (2) or Universal(1)
 *
 * Default: 0
 *
 * @property events object
 * Defines which events emitted by YouTube API
 * will be turned into Google Analytics or GTM events
 * 
 * Defaults:
 * 'events': {
 *   'Unstarted'   : false,
 *   'Watch to End': true,
 *   'Play'        : true,
 *   'Pause'       : true,
 *   'Buffering'   : false,
 *   'Cued'        : false
 * }
 */