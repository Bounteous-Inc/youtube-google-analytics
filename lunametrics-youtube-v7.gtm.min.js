(function(g,f){function h(c){for(var a=0;a<c.length;a++){var d;d=c[a];d=-1<d.src.indexOf("youtube.com/embed/")||-1<d.src.indexOf("youtube.com/v/")?!0:!1;if(d){d=c[a];var b=g.createElement("a");b.href=d.src;b.hostname="www.youtube.com";b.protocol=g.location.protocol;tmpPathname="/"===b.pathname.charAt(0)?b.pathname:"/"+b.pathname;var e=f.location.protocol+"%2F%2F"+f.location.hostname;-1===b.search.indexOf("enablejsapi")&&(b.search=0<b.search.length?b.search+"&enablejsapi=1":b.search="enablejsapi=1&origin="+
e);-1===b.search.indexOf("origin")&&(b.search=b.search+"&origin="+e);"application/x-shockwave-flash"===d.type&&(e=g.createElement("iframe"),e.height=d.height,e.width=d.width,tmpPathname="/embed/"+d.videoId,d.parentNode.parentNode.replaceChild(e,d.parentNode),d=e);b.pathname=tmpPathname;d.src=b.href+b.hash;d.pauseFlag=!1;-1<b.search.indexOf("playlist=")&&(d.playlist=!0,d.watchToEndCount=0);m(d)}}}function m(c){new YT.Player(c,{events:{onStateChange:function(a){n(a,c)}}})}function n(c,a){var d=p[c.data],
b=c.target.getVideoUrl().match(/[?&]v=([^&#]*)/)[1],e=q(c.data,a);r(c.data,a);e&&t(a,b,function(c){a.videoTitle=c;a.videoId=b;f.dataLayer.push({event:"youTubeTrack",attributes:{videoName:a.videoTitle,videoAction:d}})})}function t(c,a,d){if(c.videoId===a||c.lockVideoTitle)d(c.videoTitle);else{var b=setTimeout(function(b){d(b)},5E3);u("//gdata.youtube.com/feeds/api/videos/"+a+"?v=2&alt=json",function(a){a=eval("["+a+"]");"object"===typeof a&&0<a.length&&(clearTimeout(b),d(a[0].entry.title.$t))})}}function q(c,
a){0===c&&a.playlist&&a.watchToEndCount++;return a.playlist&&1===a.watchToEndCount%2||2===c&&a.pauseFlag?!1:!0}function r(c,a){a.lockVideoTitle&&(a.lockVideoTitle=!1);0===c&&(a.lockVideoTitle=!0);2===c&&(a.pauseFlag=!0);1===c&&(a.pauseFlag=!1)}function u(c,a,d,b){try{"XDomainRequest"in f&&null!==f.XDomainRequest?(b=new XDomainRequest,b.open("GET",c,1),b.onload=function(){a(b.responseText,b)},b.send()):(b=new (this.XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0"),b.open("GET",c,1),b.onreadystatechange=
function(){3<b.readyState&&a&&a(b.responseText,b)},b.send(d))}catch(e){f.console&&console.log(e.message)}}if("undefined"!==typeof f.onYouTubeIframeAPIReady)throw Error("There is already a function defined at window.onYouTubeIframeAPIReady; aborting LunaMetrics Google Analytics YouTube Tracking","gtm-yt-tracker.js","14");f.onYouTubeIframeAPIReady=function(){var c=g.getElementsByTagName("iframe"),a=g.getElementsByTagName("embed");h(c);h(a)};var k=g.createElement("script");k.src="//www.youtube.com/iframe_api";
var l=g.getElementsByTagName("script")[0];l.parentNode.insertBefore(k,l);var p={"-1":"Unstarted",0:"Watch to End",1:"Play",2:"Pause",3:"Buffering",5:"Cueing"}})(document,window);